[{"path":"https://ssdqa.github.io/squba/articles/database_connection.html","id":"initialize_dq_session","dir":"Articles","previous_headings":"","what":"initialize_dq_session","title":"Connecting to Your Data","text":"initialize_dq_session helper function included squba.gen package accessible SQUBA ecosystem packages. function intake user-specific database connection information use set internal configurations allow data quality analyses run. use framework called argos facilitate accessing data, required establish connection via function. ensures internal functions configurations appropriately established without need user directly interact framework. information argos can found . standard set initialize_dq_session may look something like :","code":"library(conceptsetdistribution)  initialize_dq_session(session_name = 'vignette_demo',                       db_conn = dbi_connection / 'path/to/json/config', #choose one                       is_json = FALSE / TRUE, #choose one                       working_directory = getwd(),                       file_subdirectory = 'my_files',                       cdm_schema = 'my_cdm_schema')"},{"path":[]},{"path":"https://ssdqa.github.io/squba/articles/database_connection.html","id":"session_name","dir":"Articles","previous_headings":"Parameter Walkthrough","what":"session_name","title":"Connecting to Your Data","text":"arbitrary string value used give name session. used internal organization, multiple sessions can easily differentiated.","code":""},{"path":"https://ssdqa.github.io/squba/articles/database_connection.html","id":"db_conn-is_json","dir":"Articles","previous_headings":"Parameter Walkthrough","what":"db_conn & is_json","title":"Connecting to Your Data","text":"parameters actual database connection information read function. two methods can used input connection details.","code":""},{"path":"https://ssdqa.github.io/squba/articles/database_connection.html","id":"option-1-dbi-or-similar","dir":"Articles","previous_headings":"Parameter Walkthrough > db_conn & is_json","what":"Option 1: DBI (or similar)","title":"Connecting to Your Data","text":"One option create connection object inside R session using DBI similar database connection package. Instructions use DBI::dbConnect establish connection can found DBI package documentation. option used, is_json set FALSE.","code":""},{"path":"https://ssdqa.github.io/squba/articles/database_connection.html","id":"option-2-external-json-configuration","dir":"Articles","previous_headings":"Parameter Walkthrough > db_conn & is_json","what":"Option 2: External JSON Configuration","title":"Connecting to Your Data","text":"Another option store configuration details local JSON file provide helper function path file. provided simple example . Option 1, type information included file differs different database backends. option used is_json set TRUE.","code":"{     \"src_name\" : \"Postgres\",     \"src_args\" : {             \"host\"     : \"my.database.server\",             \"port\"     : 5432,             \"dbname\"   : \"project_db\",             \"username\" : \"my_username\",             \"password\" : \"my_password\",             \"options\"  : \"-c search_path=my_cdm_schema\"      },      \"post_connect_sql\" : [          \"set role project_staff;\"      ]       }"},{"path":"https://ssdqa.github.io/squba/articles/database_connection.html","id":"working_directory-file_subdirectory","dir":"Articles","previous_headings":"Parameter Walkthrough","what":"working_directory & file_subdirectory","title":"Connecting to Your Data","text":"parameters provide information local directory analyses know local files concept sets input configuration files can accessed. using project-oriented workflow R, getwd() default directory project. Otherwise, need point directory interest. file_subdirectory directory nested inside provided working_directory local files stored. ensures concept sets accessible code without user explicitly define file paths multiple times throughout analysis process.","code":""},{"path":"https://ssdqa.github.io/squba/articles/database_connection.html","id":"cdm_schema","dir":"Articles","previous_headings":"Parameter Walkthrough","what":"cdm_schema","title":"Connecting to Your Data","text":"name schema (database, depending local setup) data appropriate CDM format (either OMOP PCORnet) stored. supplemental tables may want access analyses also stored ","code":""},{"path":"https://ssdqa.github.io/squba/articles/database_connection.html","id":"optional-parameters","dir":"Articles","previous_headings":"Parameter Walkthrough","what":"Optional Parameters","title":"Connecting to Your Data","text":"function additional parameters can optionally specified choose.","code":"initialize_dq_session(session_name = 'vignette_demo',                       db_conn = dbi_connection / 'path/to/json/config', #choose one                       is_json = FALSE / TRUE, #choose one                       working_directory = getwd(),                       file_subdirectory = 'my_files',                       cdm_schema = 'my_cdm_schema',                       results_schema = 'my_results_schema', ***                       results_tag = '_project_id', ***                       vocabulary_schema = 'vocabulary', ***                       cache_enabled = FALSE, ***                       retain_intermediates = FALSE, ***                       db_trace = TRUE, ***                       default_file_output = FALSE, ***                       results_subdirectory = NULL ***                       )"},{"path":"https://ssdqa.github.io/squba/articles/database_connection.html","id":"results_schema","dir":"Articles","previous_headings":"Parameter Walkthrough > Optional Parameters","what":"results_schema","title":"Connecting to Your Data","text":"like output analysis results back database, string define destination schema. output_tbl function included part argos framework can used achieve .","code":""},{"path":"https://ssdqa.github.io/squba/articles/database_connection.html","id":"results_tag","dir":"Articles","previous_headings":"Parameter Walkthrough > Optional Parameters","what":"results_tag","title":"Connecting to Your Data","text":"optional string appended tables output back database defined results_schema. intended assist uniquely identifying tables project/analysis avoid accidental overwrites.","code":""},{"path":"https://ssdqa.github.io/squba/articles/database_connection.html","id":"vocabulary_schema","dir":"Articles","previous_headings":"Parameter Walkthrough > Optional Parameters","what":"vocabulary_schema","title":"Connecting to Your Data","text":"OMOP vocabulary tables available database like access part analysis, define schema tables stored. parameter primarily used OMOP database backends, can used PCORnet backends similar tables available.","code":""},{"path":"https://ssdqa.github.io/squba/articles/database_connection.html","id":"cache_enabled","dir":"Articles","previous_headings":"Parameter Walkthrough > Optional Parameters","what":"cache_enabled","title":"Connecting to Your Data","text":"parameter allow cache concept sets loaded via argos::load_codeset, default method used squba. beneficial repeatedly using codeset across multiple analyses,","code":""},{"path":"https://ssdqa.github.io/squba/articles/database_connection.html","id":"retain_intermediates","dir":"Articles","previous_headings":"Parameter Walkthrough > Optional Parameters","what":"retain_intermediates","title":"Connecting to Your Data","text":"parameter controls whether intermediate/temporary tables retained database. set TRUE system permit temporary tables. using feature, make sure set results_schema give program destination retained tables.","code":""},{"path":"https://ssdqa.github.io/squba/articles/database_connection.html","id":"db_trace","dir":"Articles","previous_headings":"Parameter Walkthrough > Optional Parameters","what":"db_trace","title":"Connecting to Your Data","text":"parameter, set TRUE, print SQL query log R console relevant computations. essentially “verbose” option, controlling much information want see certain queries executed.","code":""},{"path":"https://ssdqa.github.io/squba/articles/database_connection.html","id":"results_subdirectory","dir":"Articles","previous_headings":"Parameter Walkthrough > Optional Parameters","what":"results_subdirectory","title":"Connecting to Your Data","text":"choose use argos::output_tbl output results, destination used choose output result table file.","code":""},{"path":"https://ssdqa.github.io/squba/articles/database_connection.html","id":"default_file_output","dir":"Articles","previous_headings":"Parameter Walkthrough > Optional Parameters","what":"default_file_output","title":"Connecting to Your Data","text":"choose use argos::output_tbl output results database, parameter globally control whether results also output CSV file format user-specified results directory. feature can also invoked function call level preferred.","code":""},{"path":[]},{"path":"https://ssdqa.github.io/squba/articles/squba_start.html","id":"the-cohort","dir":"Articles","previous_headings":"Analysis-Specific Inputs","what":"The Cohort","title":"Introduction to squba","text":"module require provide table containing foundation study analysis: cohort! table must , minimum, following four columns:","code":""},{"path":"https://ssdqa.github.io/squba/articles/squba_start.html","id":"site","dir":"Articles","previous_headings":"Analysis-Specific Inputs > The Cohort","what":"Site","title":"Introduction to squba","text":"site column originally intended network-level analyses data multiple institutions available. really, ’s just primary grouping variable used multi-site analysis type. can input names different data sources can compare patients institutions behave, can input different patient characteristic, like sex study-specific flag, compare groups one another.","code":""},{"path":"https://ssdqa.github.io/squba/articles/squba_start.html","id":"patient-identifier","dir":"Articles","previous_headings":"Analysis-Specific Inputs > The Cohort","what":"Patient Identifier","title":"Introduction to squba","text":"column contain unique patient identifiers used classify members cohort. using OMOP data model, person_id column. using PCORnet, patid column.","code":""},{"path":"https://ssdqa.github.io/squba/articles/squba_start.html","id":"start-date","dir":"Articles","previous_headings":"Analysis-Specific Inputs > The Cohort","what":"Start Date","title":"Introduction to squba","text":"start_date column indicate earliest date data can extracted patient. likely cohort entry date. Note longitudinal analyses, patients included time period interest start date passed. patient’s start date 1/1/2010, treated member cohort looking year 2009 month December 2009, even data available period. treated full member cohort starting year 2010 month January 2010.","code":""},{"path":"https://ssdqa.github.io/squba/articles/squba_start.html","id":"end-date","dir":"Articles","previous_headings":"Analysis-Specific Inputs > The Cohort","what":"End Date","title":"Introduction to squba","text":"end_date column indicate latest date data can extracted patient. may end follow-period date another event indicates exit cohort. Note longitudinal analyses, patients included time period interest end date passed. patient’s end date 1/1/2020, treated member cohort looking year 2021 month February 2020, even data available period. treated full member cohort including year 2020 month January 2020. Providing information give module three essential pieces information: patients dataset included data quality analysis many sites present among patients cohort period interest data extracted","code":""},{"path":"https://ssdqa.github.io/squba/articles/squba_start.html","id":"the-definition-table","dir":"Articles","previous_headings":"Analysis-Specific Inputs","what":"The Definition Table","title":"Introduction to squba","text":"module ask provide table defines targets data quality analysis. specific contents table differ modules, generally ask provide information : CDM table domain variable defined additional filtering logic applied table column containing concepts codes used define analysis target date column used temporal filtering name concept set, found pre-defined directory, used define variable details required, please see documentation specific module like use.","code":""},{"path":"https://ssdqa.github.io/squba/articles/squba_start.html","id":"concept-sets","dir":"Articles","previous_headings":"Analysis-Specific Inputs","what":"Concept Sets","title":"Introduction to squba","text":"squba modules expect concept sets, contain sets codes define single clinical concept variable, specific format ensure files can referenced standard way across suite. must contain following two columns: concept_id, contains OMOP-specific reference value given clinical code. PCORnet implementations, column still included can left blank filled random integer. concept_code, contains actual clinical code, like LOINC ICD10 code. OMOP implementations, column still included can left blank filled random character. PCORnet implementations, vocabulary_id column may also required. domains data model, like diagnosis table, field defines ontology code belongs order help differentiate similar vocabularies (like ICD9 ICD10). vocabulary_id field contain vocabulary identifier appears CDM, included parameter join concept set CDM. information, concept_name full description concept, can included file required. Note: concept set used input squba stored CSV file pre-defined file subdirectory project (see Connecting Data details).","code":""},{"path":"https://ssdqa.github.io/squba/articles/squba_start.html","id":"module-parameters","dir":"Articles","previous_headings":"","what":"Module Parameters","title":"Introduction to squba","text":"modules, exceptions modules like Cohort Attrition assessed longitudinally, contain multi_or_single_site, anomaly_or_exploratory, time function parameters. sections explain parameters means may want select one option versus .","code":""},{"path":"https://ssdqa.github.io/squba/articles/squba_start.html","id":"single-versus-multi-site-analyses","dir":"Articles","previous_headings":"Module Parameters","what":"Single versus Multi-Site Analyses","title":"Introduction to squba","text":"parameter essentially controls whether want utilize site column cohort table grouping variable. beyond , also control whether comparing behavior targets analysis (variables, codes, etc.) versus comparing behavior different sites cohort. example, Expected Variables Present module, toggling parameter control whether see bar graph highlighting cohort hypertension diagnoses diabetes diagnoses whether see heat map demonstrating one institution hypertension diagnoses another. one site cohort file, single site analysis possible can “set forget” parameter. multiple sites, however, single multi-site analyses available . single site analysis multiple sites present cohort file essentially ignore site column treat whole cohort one big group. really want target one site isolation, sure filter cohort executing single site analysis.","code":""},{"path":"https://ssdqa.github.io/squba/articles/squba_start.html","id":"exploratory-versus-anomaly-detection-analyses","dir":"Articles","previous_headings":"Module Parameters","what":"Exploratory versus Anomaly Detection Analyses","title":"Introduction to squba","text":"parameter controls type computation executed analysis. Exploratory checks extract high level summary information, like counts proportions, make available can get general picture data looks like. Anomaly detection checks take information execute formal statistical computation identify outliers within result set. Concept Set Distribution module, exploratory analysis may demonstrate codes stand frequently used defining variable, anomaly detection analysis may reveal one anomalous compared rest codes concept set. Single Site, Anomaly Detection, Cross-Sectional checks tend apply different methods identifying anomalies across modules. However, anomaly detection methods, described table , similar across suite. qicharts2 (control chart) timetk (STL regression) check uses outlier detection method hotspots package, uses robust root mean square approach (user-defined) p-value identify anomalous values. Note analysis target groups eligible anomaly detection analysis meet following criteria: Mean > 0.02, Median > 0.01, (Mean > 0.05 & range > 0.01), Coefficient variance > 0.1 & sample size > 11","code":""},{"path":"https://ssdqa.github.io/squba/articles/squba_start.html","id":"cross-sectional-versus-longitudinal-analyses","dir":"Articles","previous_headings":"Module Parameters","what":"Cross-Sectional versus Longitudinal Analyses","title":"Introduction to squba","text":"parameter controls whether look static snapshot data versus longitudinal time series. can beneficial look certain things across time identify temporal trends data behaves. expected, like seeing impacts switch ICD9 ICD10, unexpected, like seeing sudden spike prescription drug one year next. Clinical Events & Specialties module, toggling parameter mean difference seeing patients cohort primarily seen Cardiologists identifying trend driven uptick Cardiologist visits starting 2017. Two modules, Cohort Attrition Sensitivity Selection Criteria, longitudinal analyses available since focused cohort characteristics rather behavior data across cohort period.","code":""},{"path":"https://ssdqa.github.io/squba/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Hanieh Razzaghi. Author. Kaleigh Wieand. Author, maintainer. Kimberley Dickinson. Author. Charles Bailey. Author.","code":""},{"path":"https://ssdqa.github.io/squba/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Razzaghi H, Wieand K, Dickinson K, Bailey C (2026). squba: Study-Specific Quality, Utility, Breadth Assessment (squba). R package version 0.0.0.9000, https://github.com/ssdqa/squba.","code":"@Manual{,   title = {squba: Study-Specific Quality, Utility, and Breadth Assessment (squba)},   author = {Hanieh Razzaghi and Kaleigh Wieand and Kimberley Dickinson and Charles Bailey},   year = {2026},   note = {R package version 0.0.0.9000},   url = {https://github.com/ssdqa/squba}, }"},{"path":"https://ssdqa.github.io/squba/index.html","id":"study-specific-quality-utility-and-breadth-assessment-squba","dir":"","previous_headings":"","what":"Study-Specific Quality, Utility, and Breadth Assessment (squba)","title":"Study-Specific Quality, Utility, and Breadth Assessment (squba)","text":"Dive data quality squba! suite R packages allow investigate multiple facets data quality customize analyses based study-specific needs. module allow conduct 8 different analyses either OMOP PCORnet CDM, aimed taking different view data still addressing data quality probe. learn theory behind squba, see manuscript (coming soon)! package download currently available modules, 11 (11/2025). “Modules” dropdown contains list module links module-specific documentation. can also see granular descriptions module check type PEDSpace, metadata repository.","code":""},{"path":"https://ssdqa.github.io/squba/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Study-Specific Quality, Utility, and Breadth Assessment (squba)","text":"Install development version package: like install individual modules, navigate appropriate repository installation instructions.","code":"devtools::install_github('ssdqa/squba')"},{"path":"https://ssdqa.github.io/squba/index.html","id":"available-modules","dir":"","previous_headings":"","what":"Available Modules","title":"Study-Specific Quality, Utility, and Breadth Assessment (squba)","text":"Patient Facts: Assesses availability patient clinical data per year follow-factor visit type Patient Event Sequencing: Evaluates plausibility temporal relationship two clinical events Patient Record Consistency: Checks consistency within patient’s clinical record ensure information confirmatory complete Expected Variables Present: Evaluates presence distribution study variables patient & row levels Quantitative Variable Distribution: Summarizes distribution quantitative study variables (ex: lab test results) Categorical Variable Distribution: Summarizes distribution categorical study variables, based present data (ex: drug dosage units) Concept Set Distribution: Computes distribution concepts make given study variable Source Concept Vocabularies: Identifies summarizes concept mappings source--concept concept--source relationships Clinical Events & Specialties: Assesses concordance clinical event associated specialtist providers care sites Cohort Attrition: Examine step study’s attrition criteria identify potential irregularities cohort construction Sensitivity Selection Criteria: Compare demographics, utilization patterns, clinical fact makeup base cohort definition alternate cohort definitions","code":""},{"path":"https://ssdqa.github.io/squba/reference/squba_packages.html","id":null,"dir":"Reference","previous_headings":"","what":"List all packages imported by squba — squba_packages","title":"List all packages imported by squba — squba_packages","text":"List packages imported squba","code":""},{"path":"https://ssdqa.github.io/squba/reference/squba_packages.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List all packages imported by squba — squba_packages","text":"","code":"squba_packages()"},{"path":"https://ssdqa.github.io/squba/reference/squba_packages.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List all packages imported by squba — squba_packages","text":"","code":"squba_packages() #>  [1] \"cli\"                             \"clinicalevents.specialties\"      #>  [3] \"cohortattrition\"                 \"conceptsetdistribution\"          #>  [5] \"crayon\"                          \"dplyr\"                           #>  [7] \"expectedvariablespresent\"        \"patienteventsequencing\"          #>  [9] \"patientfacts\"                    \"patientrecordconsistency\"        #> [11] \"purrr\"                           \"remotes\"                         #> [13] \"rstudioapi\"                      \"sensitivityselectioncriteria\"    #> [15] \"sourceconceptvocabularies\"       \"squba.gen\"                       #> [17] \"quantvariabledistribution\"       \"categoricalvariabledistribution\" #> [19] \"utils\""},{"path":"https://ssdqa.github.io/squba/reference/squba_update.html","id":null,"dir":"Reference","previous_headings":"","what":"Update squba packages to align with most recent GitHub commits — squba_update","title":"Update squba packages to align with most recent GitHub commits — squba_update","text":"Update squba packages align recent GitHub commits","code":""},{"path":"https://ssdqa.github.io/squba/reference/squba_update.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update squba packages to align with most recent GitHub commits — squba_update","text":"","code":"squba_update()"},{"path":"https://ssdqa.github.io/squba/reference/squba_update.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Update squba packages to align with most recent GitHub commits — squba_update","text":"message console information packages need updated based currently installed","code":""},{"path":"https://ssdqa.github.io/squba/reference/squba_update.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Update squba packages to align with most recent GitHub commits — squba_update","text":"","code":"if (FALSE) { # \\dontrun{ ## Requires that a GitHub PAT is established  squba_update() } # }"}]
